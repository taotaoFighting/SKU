<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="./resources/semantic.css">
		<link rel="stylesheet" type="text/css" href="./resources/cola.css">
		<link rel="stylesheet" type="text/css" href="./css/dayMaintain.css">
	</head>

	<body>
		<header class="mui-bar mui-bar-nav" style="background-color: #439CF6;">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left" style="color: white;"></a>
		    <h1 class="mui-title" style="color: white;">仓库日交货计划</h1>
		</header>
		<div class="v-box" style="padding-top: 54px;">
			<div class="v-box" style="width: 85%;margin-left: 5%;text-align: right;">
			<div class="box" id="rowLabel">
				<label >品牌：</label><c-dropdown  id="formInput" c-bind="queryData.brandCode" items="{{brands}}" openmode="drop" valueProperty="enumvCode" textProperty="enumvName" c-widget="width:70%"></c-input> 
			</div>
			<div class="box" id="rowLabel">
				<label >大仓：</label></label><c-input  id="formInput" c-bind="queryData.storageCode" c-widget="width:70%">
			</div>
			<div class="box" id="rowLabel">
				<label >开始日期：</label><c-datePicker id="dateP" readOnly="true" c-widget="width:70%;bind:queryData.deliveryDateS"></c-datePicker>
			</div>
			<div class="box" id="rowLabel">
				<label >截止日期：</label><c-datePicker id="dateP" readOnly="true" c-widget="width:70%;bind:queryData.deliveryDateE"></c-datePicker>
			</div>
			<div class="box" style="margin-top: 20%;">
				<c-button color="blue" c-widget="caption:查询;width:90%;click:query" style="margin-left: 5%;"></c-button>
				<c-button c-widget="caption:重置;width:90%;click:resetData" style="margin-left: 5%;margin-top: 10%;"></c-button>
			</div>
			</div>
		</div>
		<script src="./resources/jquery-2.1.3.js"></script>  
		<script src="./resources/3rd.js"></script>
		<script src="./resources/semantic.js"></script>
		<script src="./js/cola.js"></script>
		<script src="./resources/i18n/zh/cola.js"></script>
		<script src="./js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init()
			cola(function(model){
				
				$(".v-box").click(function(){
					
				})
				
				model.set({
					queryData:{}
				});
				
				model.describe("brands",{
					provider:{
						method:"POST",
						url:localStorage.getItem("localhost")+"/scmmk/rest/mobile/enum/Brand/list",
						success:function(arg){
							model.set("brands",arg.result.dataList);
							model.get("brands").insert({"enumvName":"请选择","enumvCode":""});
							model.get("queryData").set("brandCode",""); 
						}
					}
				});
				
				model.action({
					query:function(){
						var param = {};
						if(model.get("queryData").get("brandCode")){
							param["brandCode"] = model.get("queryData").get("brandCode");
						}
						if(model.get("queryData").get("storageCode")){
							param["storageCode"] = model.get("queryData").get("storageCode");
						}
						if(model.get("queryData").get("deliveryDateS")){
							param["deliveryDateS"] = model.get("queryData").get("deliveryDateS");
						}
						if(model.get("queryData").get("deliveryDateE")){
							param["deliveryDateE"] = model.get("queryData").get("deliveryDateE");
						}
						console.log(JSON.stringify(param));
						mui.openWindow({
						    url: 'sku-deliveryPalnQueryResult.html', 
						    id:'deliveryPalnQueryResult',
						    extras:{
						        queryData:param  //扩展参数
						    }
						 }); 
					},
					resetData:function(){
						model.set("queryData",{});
					}
				});
				
			});
		</script>
	</body>

</html>